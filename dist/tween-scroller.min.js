(function(){define(["css!./tween-scroller"],function(){var a;return a={pace:10,type:Expo.easeOut,duration:1,timeGap:50,accelerator:30,backDuration:.4,backDistance:40},$.fn.scroll=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o=this;return i=$.extend({},a,b),l=[i.pace,i.type,i.duration],h=l[0],k=l[1],f=l[2],m=[i.timeGap,i.accelerator],j=m[0],c=m[1],n=[i.backDuration,i.backDistance],e=n[0],d=n[1],g=!0,this.enableScroll=function(a){return g=a,g?o.each(function(){var a,b;return b=$(this),b.trigger("mouseover"),a=b.find(".scroll-bar"),a.fadeIn()}):o.each(function(){var a,b;return b=$(this),a=b.find(".scroll-bar"),a.fadeOut()})},this.scrollMeTo=function(a,b,c){return null==b&&(b=.2),null==c&&(c=!1),o.each(function(){var d,e;return e=$(this),d=e.find(".scroll-inner"),c?d.css({top:a}):TweenLite.to(d,b,{top:a+"px"})})},this.each(function(){var a,b,i,l,m,n,o,p,q,r,s,t;return i=$(this),b=$('<div class = "scroll-bar"></div>'),a=i.find(".scroll-inner"),m=0,n=!0,i.append(b),p=a.height(),q=0,t=0,l=0,r=function(){var c,d,e,f;if(g)return c=a.height(),e=i.height(),d=50,f=e*(e-d)/c+d,c>e?(TweenLite.to(b,.3,{height:f}),b.stop(!0,!0).fadeIn(200)):b.stop(!0,!0).fadeOut(200)},i.hover(r,function(){return b.stop(!0,!0).fadeOut(200)}),s=function(c,g,h,j){var l,m,n,o,p,q,s,t,u,v,w,x,y,z,A;if(c.is(":visible")){if(c.height()>=a.height())return TweenLite.to(a,.3,{top:"0px"}),b.stop(),b.fadeOut(200),void 0;if(r(),m=this,l=m===b?a:b,A=m.position().top,p=c.height()-m.height()||-1,w=0,x=c.height()-l.height(),v=0,q=0,w=A+g,q=(p-w)*h,o=null,0>q?(w=p-d,o=p):q>p*h&&(w=d,o=0),u=function(a){return a/p*x},n=function(){var a;if(null!==o)return w=o,u(w),a=null,TweenLite.to(m,e,{top:w+"px",ease:a}),TweenLite.to(l,e,{top:v+"px",ease:a})},j?(null!==o&&(w=o),m.css({top:w+"px"}),v=u(w),l.css({top:v+"px"})):(null===o?(t=k,s=f):(t=null,s=e),TweenLite.to(m,s,{top:w+"px",ease:t,onComplete:n}),v=u(w),TweenLite.to(l,s,{top:v+"px",ease:t,onComplete:n})),z=function(){return a.position().top>=0},y=function(){return a.position().top<=c.height()-a.height()},z())return i.trigger("reach-top",this);if(y())return i.trigger("reach-bottom",this)}},i.on("mousewheel DOMMouseScroll",function(d){var e,f,k,m,n,o,p,q,r,u,v,w;if(g)return d.preventDefault(),p=0,w=a.position().top,o=i.height(),m=a.height(),n=0,f=o-m,q=o-b.height(),r=0,v=+new Date,u=v-t,t=v,j>=u?(k=c-u,l+=k>0?k:0):l=0,e=h+l,e=e>0?e:0,"mousewheel"===d.type?p=d.originalEvent.wheelDelta/30*-1*e:"DOMMouseScroll"===d.type&&(p=d.originalEvent.detail*e),s.call(a,i,-p,-1)}),o=function(a){var c,d,e;return a.preventDefault(),a.stopPropagation(),d=a.clientY-m,c=$(this),e=b.position().top,m=a.clientY,n?s.call(b,i,d,1,!0):void 0},b.on("mousedown",function(a){return a.preventDefault(),m=a.clientY,i.on("mousemove",o)}),$(document.body).on("mouseup",function(){return i.off("mousemove",o),n?s.call(a,i,0,-1,!0):void 0})})}})}).call(this);